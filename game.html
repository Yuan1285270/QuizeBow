<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>å°å®‰çš„æŒ‘æˆ°</title>
    <style>
        html {
            margin: 0;
            padding: 0;
            height: 100%;
        }
        body {
            margin: 0;
            padding: 0;
            background-color: #52087D;
            font-family: "Noto Sans TC", "Microsoft JhengHei", "PingFang TC", sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            background-image: url('images/office_background.png'); /* æ›æˆä½ è‡ªå·±çš„åœ–ç‰‡è·¯å¾‘ */
            background-size: cover;  /* åœ–ç‰‡è¦†è“‹æ•´å€‹ç•«é¢ */
            background-position: center center; /* ç½®ä¸­ */
            background-repeat: no-repeat; /* ä¸è¦é‡è¤‡ */
        }

        .options {
            display: flex;
            justify-content: center;
            gap: 6vw;
            margin-top: 5vh;
            flex-wrap: nowrap;
        }
        .option img {
            width: 10vw;
            height: 10vw;
            max-width: 100px;
            max-height: 100px;
            border-radius: 15px;
            padding: 8px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.25);
            transition: transform 0.2s ease, filter 0.3s ease;
        }

        .option img:hover {
            transform: scale(1.05);
        }

        #arrow {
            width: 17vw;
            max-width: 170px;
            position: absolute;
            bottom: 5vh;
            left: 50%;
            transform: translateX(-50%) rotate(0deg);
            transition: transform 0.2s ease-out;
        }

        .question-box {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 3vh;
            max-width: 90vw;
            margin-top: 4vh;
            margin-bottom: 12vh;
            line-height: 1.8;
            font-size: 1.2rem;
            color: white;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            white-space: pre-wrap;
            word-break: break-word;
        }

        .shoot-btn {
            margin-top: 2vh;
            background-color: #CDE7FF;
            border: none;
            border-radius: 2vh;
            font-size: 1.3rem;
            padding: 1vh 3vh;
            font-weight: bold;
            cursor: pointer;
        }

        #flying-arrow {
            position: absolute;
            width: 2vw;
            max-width: 20px;
            bottom: 5vh;
            left: 50%;
            transform: translateX(-50%) rotate(0deg);
            transition: bottom 1.5s ease, left 1.5s ease;
            z-index: 10;
        }

        #toast {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: radial-gradient(circle at center, #fff 20%, #ffd700 80%);
            color: #4B0082;
            padding: 4vh 6vw;
            font-size: 3rem;
            font-weight: bold;
            border-radius: 40px;
            box-shadow: 0 12px 40px rgba(255, 255, 0, 0.6);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, transform 0.3s ease, visibility 0s linear 0.3s;

            /* âœ… é€™ä¸‰å€‹ä¿è­‰ toast æ°¸é åœ¨ä¸Šé¢ */
            z-index: 999999; /* è¶…ç´šé«˜ */
            pointer-events: none; /* ä¸æœƒæ“‹ä½é»æ“Š */
        }


        .toast-show {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1.3);
            animation: toastPulse 0.5s ease-in-out forwards;
        }




        @keyframes toastPulse {
            0% { transform: translate(-50%, -50%) scale(1.3); }
            50% { transform: translate(-50%, -50%) scale(1.5); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }

        @keyframes hitEffect {
            0%   { transform: scale(1) rotate(0deg); filter: brightness(1); }
            20%  { transform: scale(1.3) rotate(-3deg); filter: brightness(1.5); }
            40%  { transform: scale(1.3) rotate(3deg); filter: brightness(2); }
            60%  { transform: scale(1.1) rotate(-2deg); filter: brightness(1.4); }
            80%  { transform: scale(1.1) rotate(2deg); filter: brightness(1.2); }
            100% { transform: scale(1) rotate(0deg); filter: brightness(1); }
        }

        .explode-hit {
            animation: hitEffect 0.5s ease;
            z-index: 1000;
        }

        @keyframes toastPop {
            0% {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 0;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.2);
                opacity: 1;
            }
            100% {
                transform: translate(-50%, -50%) scale(1);
            }
        }

    </style>
</head>
<body>

<div class="options">
    <div class="option"><img src="images/A.png?${Date.now()}" id="optA"></div>
    <div class="option"><img src="images/B.png?${Date.now()}" id="optB"></div>
    <div class="option"><img src="images/C.png?${Date.now()}" id="optC"></div>
</div>



<img src="images/whole_bow.png" id="arrow">
<img src="images/arrow_only.png" id="flying-arrow" style="display: none;">

<button class="shoot-btn" onclick="shoot()">å°„æ“Šï¼</button>

<div class="question-box" id="question-text">
    <!-- é¡Œç›®æ–‡å­—æœƒåœ¨é€™è£¡è¢« JS æ’å…¥ -->
</div>

<audio id="bgm" src="audio/bgm.mp3" autoplay loop></audio>
<audio id="sfx-hit" src="audio/hit.mp3"></audio>
<audio id="sfx-miss" src="audio/miss.mp3"></audio>
<audio id="sfx-shoot" src="audio/shoot.mp3"></audio>
<div id="toast" style="visibility: hidden;"></div>
<script>

    const questions = [
        {
            question: `ğŸ® é—œå¡1ï¼šå°å®‰ç¬¬ä¸€å¤©ä¸Šç­è§€å¯Ÿå…¬å¸é‹ä½œ\nå°å®‰ç™¼ç¾éƒ¨é–€ä¹‹é–“å¸¸å› ç‚ºæµç¨‹ä¸æ¸…æ¥šè€Œäº’ç›¸æ¨å¸è²¬ä»»ã€‚è«‹å•ä½ æœƒæ€éº¼å»ºè­°ä»–ï¼Ÿ\nA. å»ºè­°æ¯å€‹éƒ¨é–€åªå°ˆæ³¨è‡ªå·±ç¯„åœï¼Œä¸ç®¡å…¶ä»–\nB. è«‹ä¸»ç®¡å¹«ä»–æ›éƒ¨é–€\nC. å˜—è©¦å¾æ•´é«”æµç¨‹å»ç†è§£å„éƒ¨é–€ä¹‹é–“çš„é—œè¯\nğŸ” å°æ‡‰ä¿®ç…‰ï¼šç³»çµ±æ€è€ƒ`,
            correct: "C",
            options: ["images/A.png", "images/B.png", "images/C.png"]
        },
        {
            question: `ğŸ® é—œå¡2ï¼šå·¥ä½œé‡åˆ°ç“¶é ¸ï¼Œå°å®‰æƒ³å­¸æ–°æŠ€èƒ½\nå°å®‰å°è³‡æ–™åˆ†æå¾ˆæœ‰èˆˆè¶£ï¼Œæƒ³åˆ©ç”¨ä¸‹ç­æ™‚é–“é€²ä¿®ï¼Œä½†åŒäº‹ç¬‘ä»–å¤ªèªçœŸã€‚ä½ æœƒæ€éº¼å»ºè­°ä»–ï¼Ÿ\nA. ç‚ºäº†åˆç¾¤é‚„æ˜¯å…ˆåˆ¥å­¸\nB. æŒçºŒå­¸ç¿’ï¼Œä¸æ–·è‡ªæˆ‘æå‡\nC. è«‹ä¸»ç®¡è¦æ±‚å¤§å®¶ä¸€èµ·å­¸\nğŸ” å°æ‡‰ä¿®ç…‰ï¼šå€‹äººç²¾é€²`,
            correct: "B",
            options: ["images/A.png", "images/B.png", "images/C.png"]
        },
        {
            question: `ğŸ® é—œå¡3ï¼šé–‹æœƒæ™‚ï¼Œå°å®‰ä¸æ•¢èªªå‡ºæƒ³æ³•\nä¸»ç®¡è«‹å¤§å®¶é‡å°ä¸€å€‹ææ¡ˆçµ¦å»ºè­°ï¼Œå°å®‰èªç‚ºææ¡ˆå¯èƒ½æœƒæœ‰é¢¨éšªï¼Œä½†æ€•è‡ªå·±è¬›éŒ¯è¢«ç¬‘ã€‚ä½ æœƒæ€éº¼å¹«ä»–ï¼Ÿ\nA. ä¸èªªè©±æœ€å®‰å…¨\nB. è¡¨é”è‡ªå·±çš„è§€é»ï¼Œå¹«åŠ©å¤§å®¶çœ‹å¾—æ›´å…¨é¢\nC. å…ˆè§€å¯Ÿèª°æœ€æœ‰æ¬ŠåŠ›ï¼Œå†æ±ºå®šèªªä»€éº¼\nğŸ” å°æ‡‰ä¿®ç…‰ï¼šåœ˜éšŠå­¸ç¿’`,
            correct: "B",
            options: ["images/A.png", "images/B.png", "images/C.png"]
        },
        {
            question: `ğŸ® é—œå¡4ï¼šå°å®‰ç™¼ç¾å¤§å®¶ç¸½æ˜¯ç…§èˆŠæ–¹å¼è™•ç†äº‹æƒ…\nå³ä½¿å•é¡Œä¸€ç›´å‡ºç¾ï¼ŒåŒäº‹é‚„æ˜¯èªªã€Œä»¥å‰éƒ½æ˜¯é€™æ¨£åšçš„ã€ã€‚ä½ æœƒå»ºè­°å°å®‰æ€éº¼åšï¼Ÿ\nA. é¼“å‹µå¤§å®¶é‡æ–°æ€è€ƒèƒŒå¾Œçš„å‡è¨­å’Œåšæ³•\nB. é»˜é»˜æ¥å—è¦å‰‡\nC. è·³éæµç¨‹ï¼Œè‡ªå·±æå®šæ¯”è¼ƒå¿«\nğŸ” å°æ‡‰ä¿®ç…‰ï¼šå¿ƒæ™ºæ¨¡å¼`,
            correct: "A",
            options: ["images/A.png", "images/B.png", "images/C.png"]
        },
        {
            question: `ğŸ® é—œå¡5ï¼šå…¬å¸è¦æ¨å‹•æ–°ç›®æ¨™ï¼Œå°å®‰è¢«é‚€è«‹åƒèˆ‡è¦åŠƒæœƒè­°\nåœ¨æœƒè­°ä¸­ï¼Œå°å®‰ç¬¬ä¸€æ¬¡åƒèˆ‡ã€Œå…±åŒé¡˜æ™¯ã€çš„è¨è«–ã€‚ä½ æœƒå»ºè­°ä»–ï¼Ÿ\nA. ç©æ¥µåˆ†äº«è‡ªå·±å°æœªä¾†çš„æƒ³åƒèˆ‡è²¢ç»\nB. åªè½ä¸Šé¢æ€éº¼èªªå°±å¥½\nC. å…ˆè½å®Œå†ç…§å–®å…¨æ”¶\nğŸ” å°æ‡‰ä¿®ç…‰ï¼šå»ºç«‹å…±åŒé¡˜æ™¯`,
            correct: "A",
            options: ["images/A.png", "images/B.png", "images/C.png"]
        },
        {
            question: `ğŸ® é—œå¡6ï¼šå°å®‰ç™¼ç¾æŸä»¶äº‹ç¸½æ˜¯ç™¼ç”ŸåŒæ¨£éŒ¯èª¤\nä»–ç•«å‡ºæµç¨‹åœ–å¾Œï¼Œç™¼ç¾å•é¡Œå‡ºåœ¨ä¸€é–‹å§‹çš„è¨­è¨ˆå°±æœ‰ç¼ºé™·ã€‚é€™ç¨®åˆ†ææ–¹å¼å±¬æ–¼ä»€éº¼ï¼Ÿ\nA. è²¬æ€ªç•¶äº‹äºº\nB. ç”¨KPIå£“åŠ›é€¼å¤§å®¶è¡¨ç¾\nC. åˆ©ç”¨å› æœå¾ªç’°æ‰¾å‡ºæ ¹æœ¬åŸå› \nğŸ” å°æ‡‰ä¿®ç…‰ï¼šç³»çµ±æ€è€ƒå·¥å…·`,
            correct: "C",
            options: ["images/A.png", "images/B.png", "images/C.png"]
        },
        {
            question: `ğŸ® é—œå¡7ï¼šåŒäº‹å°æ”¹è®Šæ„Ÿåˆ°å®³æ€•\nåœ¨æœƒè­°ä¸­ï¼Œæœ‰åŒäº‹èªªï¼šã€Œåæ­£æ¯æ¬¡æ”¹éƒ½æ²’ç”¨ï¼Œé‚„æ˜¯ç…§ä»¥å‰å°±å¥½ã€‚ã€å°å®‰æ‡‰è©²æ€éº¼åšï¼Ÿ\nA. é™„å’Œä»–ï¼Œçœäº‹\nB. å•å•å°æ–¹éå»çš„ç¶“é©—ï¼Œä¸¦ä¸€èµ·è¨è«–å¯èƒ½çš„æ–°æ–¹æ³•\nC. ä¸ç†ä»–ï¼Œè‡ªå·±å…ˆåšè‡ªå·±çš„\nğŸ” å°æ‡‰ä¿®ç…‰ï¼šå¿ƒæ™ºæ¨¡å¼çš„è¦ºå¯Ÿèˆ‡æŒ‘æˆ°`,
            correct: "B",
            options: ["images/A.png", "images/B.png", "images/C.png"]
        },
        {
            question: `ğŸ® é—œå¡8ï¼šä¸»ç®¡å•å°å®‰ï¼šä½ è¦ºå¾—æˆ‘å€‘å…¬å¸æœªä¾†å¯ä»¥æ€éº¼æˆé•·ï¼Ÿ\nä½ æœƒå»ºè­°å°å®‰æ€éº¼å›ç­”æ‰ç¬¦åˆã€Œå­¸ç¿’å‹çµ„ç¹”ã€çš„ç²¾ç¥ï¼Ÿ\nA. æå‡ºå‰µæ–°æƒ³æ³•ï¼Œä¸¦é€£çµå…¬å¸çš„é¡˜æ™¯\nB. å›ç­”ã€Œæˆ‘éƒ½å¯ä»¥ã€æ¯”è¼ƒå®‰å…¨\nC. æ¨è–¦å¤–é¢æˆåŠŸçš„å…¬å¸è®“ä¸»ç®¡åƒè€ƒå°±å¥½\nğŸ” å°æ‡‰ä¿®ç…‰ï¼šå…±åŒé¡˜æ™¯ï¼‹å€‹äººåƒèˆ‡`,
            correct: "A",
            options: ["images/A.png", "images/B.png", "images/C.png"]
        },
        {
            question: `ğŸ® é—œå¡9ï¼šå°å®‰è¢«åˆ†é…åˆ°ä¸€å€‹è·¨éƒ¨é–€å°ˆæ¡ˆ\nä¸€é–‹å§‹å¤§å®¶æ„è¦‹ä¸åˆï¼Œå°å®‰æƒ³è®“åˆä½œæ›´æœ‰æ•ˆç‡ã€‚ä½ æœƒæ€éº¼å»ºè­°ä»–ï¼Ÿ\nA. å»ºè­°æ‹†çµ„ï¼Œå„åšå„çš„\nB. é¼“å‹µå¤§å®¶è†è½å½¼æ­¤è§€é»ï¼Œä¸€èµ·å­¸ç¿’\nC. è‡ªå·±å·å·å®Œæˆæ‰€æœ‰å·¥ä½œé¿å…è¡çª\nğŸ” å°æ‡‰ä¿®ç…‰ï¼šåœ˜éšŠå­¸ç¿’`,
            correct: "B",
            options: ["images/A.png", "images/B.png", "images/C.png"]
        },
        {
            question: `ğŸ® é—œå¡10ï¼šå°ˆæ¡ˆæ”¶å°¾ï¼Œå°å®‰å­¸åˆ°å¾ˆå¤šæ±è¥¿\nä¸»ç®¡è«‹ä»–åšä¸€æ¬¡å›é¡§å ±å‘Šã€‚ä½ æœƒå»ºè­°ä»–æ€éº¼å‘ˆç¾æœ€æœ‰åƒ¹å€¼ï¼Ÿ\nA. åªå ±å‘ŠæˆåŠŸçš„éƒ¨åˆ†\nB. åªå¯«æµç¨‹è®“å¤§å®¶åƒè€ƒ\nC. åˆ†äº«æ•´é«”éç¨‹ã€å­¸ç¿’åˆ°çš„è§€é»èˆ‡æ”¹å–„å»ºè­°\nğŸ” å°æ‡‰ä¿®ç…‰ï¼šæ•´åˆäº”é …ä¿®ç…‰æ¦‚å¿µï¼Œå¯¦è¸åæ€èˆ‡å­¸ç¿’`,
            correct: "C",
            options: ["images/A.png", "images/B.png", "images/C.png"]
        }
    ];

    let currentQuestion = 0;
    let currentAngle = 0;
    let direction = 1;

    function loadQuestion() {
        const q = questions[currentQuestion];
        document.getElementById("question-text").innerText = q.question;
        ["A", "B", "C"].forEach((opt, i) => {
            const img = document.getElementById(`opt${opt}`);
            img.src = q.options[i];
            img.style.filter = "none";
        });
    }

    function shoot() {
        document.getElementById("sfx-shoot").play();
        const correct = questions[currentQuestion].correct;
        let hit = "none";
        if (currentAngle < -10) hit = "A";
        else if (currentAngle > 10) hit = "C";
        else hit = "B";

        // æ›¿æ›åœ–ç‰‡ç‚ºå‘½ä¸­åœ–æˆ–éŒ¯èª¤åœ–
        setTimeout(() => {
            if (hit === correct) {
                document.getElementById(`opt${hit}`).src = `images/${hit}_hit.png?${Date.now()}`;
                document.getElementById("sfx-hit").play();  // âœ… æ’­æ”¾åœ¨é€™è£¡
            } else {
                document.getElementById(`opt${hit}`).src = `images/${hit}_miss.png?${Date.now()}`;
                document.getElementById("sfx-miss").play(); // âœ… æ’­æ”¾åœ¨é€™è£¡
            }
            const hitImg = document.getElementById(`opt${hit}`);
            hitImg.classList.add("explode-hit");
            setTimeout(() => hitImg.classList.remove("explode-hit"), 500);

        }, 800);
        const arrow = document.getElementById("flying-arrow");
        const rad = currentAngle * Math.PI / 180;
        const distance = window.innerHeight * 0.8;
        const offsetX = Math.sin(rad) * distance;
        const offsetY = Math.cos(rad) * distance;

        arrow.style.transition = "none";
        arrow.style.bottom = "5vh";
        arrow.style.left = "50%";
        arrow.style.display = "block";
        arrow.style.transform = `translateX(-50%) rotate(${currentAngle}deg)`;

        void arrow.offsetWidth;

        arrow.style.transition = "bottom 1.5s ease, left 1.5s ease";
        arrow.style.bottom = `calc(5vh + ${offsetY}px)`;
        arrow.style.left = `calc(50% + ${offsetX}px)`;

        setTimeout(() => {
            arrow.style.display = "none";
            arrow.style.left = "50%";
            arrow.style.bottom = "5vh";

            if (hit === correct) {
                showToast("ğŸ¯ ç­”å°äº†ï¼");
                setTimeout(() => {
                    currentQuestion++;
                    if (currentQuestion < questions.length) {
                        loadQuestion();
                    } else {
                        showToast("ğŸŒŸ ä½ å·²å®Œæˆæ‰€æœ‰é¡Œç›®ï¼");
                    }
                }, 3000); // æ›åœ–å®Œé 1 ç§’å†æ›é¡Œç›®
            } else {
                showToast("ğŸ˜… æ²’ä¸­ï¼Œå†è©¦ä¸€æ¬¡ï¼");
            }
        }, 800);
    }

    function rotateArrow() {
        const arrow = document.getElementById("arrow");
        currentAngle += direction * 1.5;
        if (currentAngle >= 30 || currentAngle <= -30) direction *= -1;
        arrow.style.transform = `translateX(-50%) rotate(${currentAngle}deg)`;
    }

    setInterval(rotateArrow, 30);
    window.onload = loadQuestion;

    function showToast(message) {
        const toast = document.getElementById("toast");

        toast.innerText = message;
        toast.style.position = "fixed";
        toast.style.top = "50%";
        toast.style.left = "50%";
        toast.style.transform = "translate(-50%, -50%) scale(1)";
        toast.style.background = "gold";
        toast.style.color = "black";
        toast.style.padding = "2vh 4vw";
        toast.style.fontSize = "2rem";
        toast.style.fontWeight = "bold";
        toast.style.borderRadius = "20px";
        toast.style.zIndex = "9999999";
        toast.style.opacity = "1";
        toast.style.visibility = "visible";
        toast.style.transition = "opacity 0.5s ease";
        toast.style.animation = "toastPop 0.6s ease";

        // ğŸŒŸ å»¶é•·é¡¯ç¤ºæ™‚é–“åˆ° 2.5 ç§’
        setTimeout(() => {
            toast.style.opacity = "0";
        }, 2500);

        setTimeout(() => {
            toast.style.visibility = "hidden";
            toast.style.animation = ""; // æ¸…é™¤å‹•ç•«ï¼Œé¿å…ä¸‹æ¬¡ä¸è§¸ç™¼
        }, 3000);
    }

</script>

</body>
</html>
